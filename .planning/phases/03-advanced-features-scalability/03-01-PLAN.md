---
phase: 03-advanced-features-scalability
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/layout.tsx
  - app/page.tsx
  - app/library/page.tsx
  - app/editor/page.tsx
  - app/insights/page.tsx
  - src/components/Header.tsx
  - src/components/Footer.tsx
autonomous: true
must_haves:
  truths:
    - "User can navigate to /library, /editor, /insights via URL and see correct page"
    - "Header appears on all pages with navigation links (Library, Editor, Insights)"
    - "Active navigation link is highlighted based on current page"
    - "Footer appears with page-specific content area"
  artifacts:
    - path: "app/layout.tsx"
      provides: "Shared layout with Header and Footer"
      contains: "import Header"
    - path: "app/page.tsx"
      provides: "Home redirect to /library"
      contains: "redirect('/library')"
    - path: "app/library/page.tsx"
      provides: "Library page skeleton"
      min_lines: 15
    - path: "app/editor/page.tsx"
      provides: "Editor page skeleton"
      min_lines: 15
    - path: "app/insights/page.tsx"
      provides: "Insights placeholder"
      contains: "Coming Soon"
    - path: "src/components/Header.tsx"
      provides: "Header with logo, nav, user area"
      exports: "Header"
    - path: "src/components/Footer.tsx"
      provides: "Footer with configurable content"
      exports: "Footer"
  key_links:
    - from: "src/components/Header.tsx"
      to: "next/link"
      via: "Link component"
      pattern: "import.*Link"
    - from: "app/layout.tsx"
      to: "src/components/Header.tsx"
      via: "import and render"
      pattern: "<Header />"
---

<objective>
Establish the foundation for the three‑page UI: create shared layout components (Header, Footer) and set up Next.js App Router pages for Library, Editor, and Insights.

Purpose: All subsequent pages build on this routing and layout foundation.
Output: Working page navigation with shared header/footer, ready for page‑specific content.
</objective>

<execution_context>
@~/.opencode/get-shit-done/workflows/execute-plan.md
@~/.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-advanced-features-scalability/03-CONTEXT.md

# Current routing structure (single Dashboard page)
@app/layout.tsx
@app/page.tsx
@src/components/Dashboard.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create shared Header component</name>
  <files>src/components/Header.tsx</files>
  <action>
    Create a Header component that matches the UI mock's header design:

    1. **Logo area:** Left side with icon (graphic_eq) and text "Open Recorder" + "Transcription Suite"
    2. **Navigation:** Center with three links: Library, Editor, Insights
    3. **User area:** Right side with "New Recording" button (only show on Library page later) and user avatar

    Implementation details:
    - Use `next/link` for navigation
    - Use `usePathname()` from `next/navigation` to determine active link
    - Active link style: `border-b-2 border-indigo-primary text-slate-100`
    - Inactive link style: `border-b-2 border-transparent text-slate-500 hover:text-slate-300`
    - Use Material Symbols Outlined for icon (add font link in layout later)
    - For now, use a placeholder user avatar (div with background image from mock)
    - "New Recording" button should be present but non‑functional for now

    Styling:
    - Background: `bg-slate-deep/80 backdrop-blur-md`
    - Height: `h-16`
    - Border: `border-b border-slate-border`
    - Padding: `px-6`

    Export the component as `export function Header()`
  </action>
  <verify>
    - Component compiles without errors
    - Run `npm run dev` and check that the header appears (when integrated in layout)
    - Verify links have correct hrefs (`/library`, `/editor`, `/insights`)
  </verify>
  <done>Header component exists with correct structure and styling.</done>
</task>

<task type="auto">
  <name>Task 2: Create shared Footer component</name>
  <files>src/components/Footer.tsx</files>
  <action>
    Create a Footer component that can display page‑specific content:

    1. **Basic structure:** Fixed height, border top, flex layout
    2. **Content slot:** Accept `children` prop to allow different text per page
    3. **Common styles:** 
       - Height: `h-10`
       - Border: `border-t border-slate-border`
       - Background: `bg-slate-900/50`
       - Padding: `px-6`

    Implementation:
    - Export `export function Footer({ children }: { children: React.ReactNode })`
    - Render `<footer className="...">{children}</footer>`
    - Keep it simple – content will be supplied by each page

    Example content for Library page (to be added later):
    ```
    <Footer>
      <div className="flex items-center gap-6">
        <span className="text-[10px] font-bold text-slate-500 uppercase">Total Recordings: 124</span>
        <span className="text-[10px] font-bold text-slate-500 uppercase">Total Duration: 42h 15m</span>
      </div>
      <div>...</div>
    </Footer>
    ```
  </action>
  <verify>
    - Component compiles
    - Can render with sample children without errors
  </verify>
  <done>Footer component exists and accepts children for page‑specific content.</done>
</task>

<task type="auto">
  <name>Task 3: Set up page routing and layout</name>
  <files>app/layout.tsx, app/page.tsx, app/library/page.tsx, app/editor/page.tsx, app/insights/page.tsx</files>
  <action>
    Update the Next.js App Router to support the three‑page layout:

    1. **Update `app/layout.tsx`:**
       - Import `Header` and `Footer` components
       - Add Material Symbols font link: `<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>`
       - Wrap `{children}` with `<div className="flex flex-col h-screen bg-slate-deep text-slate-muted">`
       - Render `<Header />` before children, `<Footer>` after children (Footer will be provided by each page)
       - Remove existing `<body>` styles if any

    2. **Update `app/page.tsx`:**
       - Replace the current `<Dashboard />` with a redirect to `/library`
       - Use `import { redirect } from 'next/navigation'` and `redirect('/library')` in the component

    3. **Create `app/library/page.tsx`:**
       - Basic page skeleton: import `Footer`, render a `<main>` with placeholder text "Library page – content coming soon" and a `<Footer>` with sample library stats
       - Export default function

    4. **Create `app/editor/page.tsx`:**
       - Similar skeleton with "Editor page – content coming soon" and editor‑specific footer placeholder

    5. **Create `app/insights/page.tsx`:**
       - Placeholder "Insights – Coming Soon" and simple footer

    Ensure each page uses the shared layout (automatically via `app/layout.tsx`).
  </action>
  <verify>
    - Start dev server: `npm run dev`
    - Visit `http://localhost:3000` – should redirect to `/library`
    - Verify header appears with three links, active link highlights "Library"
    - Click "Editor" – navigates to `/editor`, active link updates
    - Click "Insights" – navigates to `/insights`, active link updates
    - Each page shows a placeholder main content and footer
    - No console errors
  </verify>
  <done>Routing works, shared layout applied, all three pages accessible.</done>
</task>

</tasks>

<verification>
After completing all tasks:
1. Run `npm run build` to ensure no TypeScript errors
2. Start dev server and manually test navigation between pages
3. Confirm Header highlights active link correctly
4. Confirm each page renders its own footer content
</verification>

<success_criteria>
- [ ] User can navigate between Library, Editor, Insights via header links
- [ ] Active page is visually highlighted in navigation
- [ ] Each page shows a unique footer (placeholder content)
- [ ] No broken links or runtime errors
</success_criteria>

<output>
After completion, create `.planning/phases/03-advanced-features-scalability/03-01-SUMMARY.md`
</output>