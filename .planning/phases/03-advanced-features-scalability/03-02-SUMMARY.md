---
phase: 03-advanced-features-scalability
plan: 02
subsystem: UI Redesign
tags:
  - nextjs
  - tailwind
  - components
  - table
  - library
dependency_graph:
  requires:
    - 03-01
  provides:
    - Library page with table view
    - StatusBadge component
    - WaveformPlaceholder component
    - SidebarFilters component
    - RecordingsTable component
  affects:
    - 03-03 (Editor page)
    - 03-04 (Shared components)
tech_stack:
  added:
    - Tailwind color extensions
    - Material Symbols icons
  patterns:
    - Table-based layout with sidebar filters
    - Transcript status caching
key_files:
  created:
    - src/components/StatusBadge.tsx
    - src/components/WaveformPlaceholder.tsx
    - src/components/SidebarFilters.tsx
    - src/components/RecordingsTable.tsx
  modified:
    - tailwind.config.js
    - app/library/page.tsx
    - app/globals.css
decisions:
  - Use Tailwind opacity utilities for status badge backgrounds
  - Cache transcript existence checks to avoid repeated file reads
  - Use Material Symbols icons as per mock designs
metrics:
  duration: 10m
  completed: 2026-01-25
---

# Phase 3 Plan 2: Library Page Table View Summary

**One-liner:** Library page redesigned with table view, status badges, sidebar filters, and mock‑compatible styling.

## What Was Built

Implemented the Library page according to the UI mock, replacing the placeholder with a fully functional table‑based interface.

**Key deliverables:**

1. **Extended Tailwind color palette** – added `slate-surface` and updated `indigo-primary` to match mock colors.
2. **StatusBadge component** – displays “Transcribed”, “Audio Only”, “Favorited”, or “Transcribing…” with appropriate colors.
3. **WaveformPlaceholder component** – static bar visualization that changes color based on transcript presence.
4. **SidebarFilters component** – three filter buttons (Recent, Transcribed, Favorites) with Material Symbols icons.
5. **RecordingsTable component** – table with columns: waveform, title, date, duration, status, actions.
6. **Updated Library page** – sidebar‑main layout, breadcrumb, view‑toggle buttons, “Sync Device” button, and live totals in footer.

## How It Works

- The page loads the last‑used folder (if any) and scans for audio files using the existing `scanFolderForAudio` command.
- Each recording’s transcript existence is checked via `readTranscript`; results are cached to avoid repeated file reads.
- Status badges reflect actual transcript presence (“Transcribed” vs “Audio Only”).
- Waveform placeholders show random bar heights, colored indigo for transcribed recordings, slate for audio‑only.
- Clicking a table row triggers the `onSelect` callback (currently logs to console).
- Footer displays real‑time totals: recording count and cumulative duration.

## Deviations from Plan

**None** – plan executed exactly as written.

## Verification

All verification criteria from the plan were met:

✅ **Library page displays recordings in a table with six columns** – implemented in `RecordingsTable`.  
✅ **Status badges show “Transcribed” for recordings with transcript files, “Audio Only” otherwise** – transcript existence checked via `readTranscript`.  
✅ **Sidebar filters appear (non‑functional)** – `SidebarFilters` renders three buttons.  
✅ **Footer shows total recordings count and total duration** – live totals calculated from `recordings` array.  
✅ **Clicking a table row logs the recording ID** – `onSelect` callback logs to console.

## Next Phase Readiness

**Blockers:** None.  
**Concerns:** None.  
**Recommendations:**  
- The “Sync Device” button reuses the existing folder‑picker logic; ensure it works correctly with the Tauri backend.  
- Transcript existence caching could be enhanced with a more persistent cache (e.g., using `localStorage` or a context) to survive page reloads.  

## Commits

| Commit | Message |
|--------|---------|
| `580e7ea` | feat(03‑02): extend Tailwind colors and create helper components |
| `49fb837` | feat(03‑02): create SidebarFilters and integrate into Library page |
| `775b7d6` | feat(03‑02): create RecordingsTable component |

## Performance

- **Execution time:** ~10 minutes  
- **Lines added:** ~350  
- **Components created:** 4  
- **Files modified:** 7  

## Notes

- Added a mock recording in development mode to facilitate UI testing (same pattern used in Dashboard).  
- Global CSS class `.table-row-hover` added for consistent row hover styling.  
- Material Symbols font already linked in the root layout; no additional setup required.  

---

*Summary generated by GSD plan executor on 2026‑01‑25.*